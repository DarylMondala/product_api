// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model mst_user {
  id               Int                @id @default(autoincrement())
  company_id       Int
  username         String             @db.VarChar(50)
  password         String             @db.VarChar(50)
  fullname         String             @db.VarChar(255)
  phone_number     String             @db.VarChar(50)
  created_by       Int @unique
  create_date      DateTime
  updated_by       Int  @unique
  update_date      DateTime
  id_locked        Boolean
  createdby mst_user? @relation("CreatedBy", fields: [created_by], references: [id])
  mst_user mst_user?  @relation("CreatedBy")
  updatedby mst_user? @relation("UpdatedBy", fields: [updated_by], references: [id])
  mst_user1 mst_user?  @relation("UpdatedBy")
  mst_users_module mst_user_module[]

}


model access_token{
  id        Int @id @default(autoincrement())
  token     String @db.VarChar(50)
  expiry    String @db.VarChar(50)
}

model mst_user_module{
  id              Int @id		@default(autoincrement())
  mst_users   mst_user @relation(fields: [user_id], references: [id])
  user_id         Int
  Module_id       Int
  sys_modules sys_module @relation(fields: [Module_id], references: [id])
  can_open        Boolean
  can_add         Boolean
  can_update      Boolean
  can_lock        Boolean
  can_unlock      Boolean
  can_delete      Boolean
  can_print       Boolean
}

model sys_module{
  id              Int @id		@default(autoincrement())
  module          String @db.VarChar(255) 
  particulars     String  @db.VarChar(255)
  mst_users_modules mst_user_module[]
}

